<div class="task-container">
  <div class="task-list">
    <h1>My Tasks</h1>
    
    <mat-card *ngFor="let task of tasks()" (click)="selectTask(task)" class="task-card">
      <mat-card-header>
        <mat-card-title>{{ task.title }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="task-description">{{ task.description }}</p>
        <div class="task-meta">
          <mat-chip class="priority-{{task.priority.toLowerCase()}}">
            Priority: {{ task.priority }}
          </mat-chip>
          <mat-chip class="category-{{task.category.toLowerCase()}}">
            Category: {{ task.category }}
          </mat-chip>
          <span class="created-on">Created on: {{ task.createdOn | date:'dd/MM/yyyy' }}</span>
        </div>
      </mat-card-content>
    </mat-card>
  </div>


 

 

  @if (selectedTask()) {
    <div class="task-detail">
      <h2>Task Title: {{ selectedTask()?.title }}</h2>
      
      <div class="priority-info">
        <span class="priority-label">Priority: {{ selectedTask()?.priority }}</span>
        @if (selectedTask()?.aiPrioritized) {
          <span class="ai-tag">AI Prioritized this as {{ selectedTask()?.priority }} PRIORITY</span>
        }
      </div>
      
      <div class="category-info">
        <span>Category: {{ selectedTask()?.category }}</span>
        @if (selectedTask()?.aiCategorized) {
          <span class="ai-tag">AI categorized this as {{ selectedTask()?.category }}</span>
        }
      </div>
      
      <div class="status-info">
        <span>STATUS: {{ selectedTask()?.status }}</span>
      </div>
      
      <div class="task-description">
        <h3>Task Description:</h3>
        <p>{{ selectedTask()?.description }}</p>
      </div>
      
      @if (selectedTask()?.additionalNotes) {
        <div class="additional-notes">
          <h3>Additional Notes:</h3>
          <ul>
            @for (note of selectedTask()!.additionalNotes; track $index) {
              <li>{{ note }}</li>
            }
          </ul>
        </div>
      }
      
      <div class="task-actions">
        <button mat-raised-button color="primary">Edit Task</button>
        <button mat-raised-button color="warn">Delete Task</button>
      </div>
    </div>
  }
</div>



 <button mat-fab color="primary" (click)="openTaskForm()" class="add-task-btn">
      add task
</button>

